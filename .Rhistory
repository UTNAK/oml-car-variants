#| label: initialize
#| warning: false
#| message: false
#| include: true
#|
suppressPackageStartupMessages({
library(tidyverse)
library(knitr)
library(jsonlite)
library(igraph)
})
###############################################################################
#' readQueryResultsFromJson
#'
#' @param filepath path to json file
#'
#' @return df convert json to data frame
#'
readQueryResultsFromJson <- function(filepath){
jsondata <- jsonlite::fromJSON(filepath)
colnum <- ncol(jsondata$results$bindings)
df <- data.frame(matrix(rep(NA, colnum), nrow=1))[numeric(0), ]
colnames(df) <- c(names(jsondata$results$bindings))
for (i in 1:nrow(jsondata$results$bindings)) {
for (j in 1:colnum) {
df[i,j] <- jsondata$results$bindings[i,j]$value
}
}
return(df)
}
#| label: Read-Query-Results
rootdir <- sub("oml-car-variants/.*", "oml-imce-vocabulary", getwd())
path <- paste0(rootdir, "/build/results/template/")
objective <- readQueryResultsFromJson(paste0(path, "objective.json"))
View(objective)
df <- objective %>%
select(id, name, mid, mname)
#| label: initialize
#| warning: false
#| message: false
#| include: true
#|
suppressPackageStartupMessages({
library(tidyverse)
library(knitr)
library(jsonlite)
library(igraph)
})
###############################################################################
#' readQueryResultsFromJson
#'
#' @param filepath path to json file
#'
#' @return df convert json to data frame
#'
readQueryResultsFromJson <- function(filepath){
jsondata <- jsonlite::fromJSON(filepath)
colnum <- ncol(jsondata$results$bindings)
df <- data.frame(matrix(rep(NA, colnum), nrow=1))[numeric(0), ]
colnames(df) <- c(names(jsondata$results$bindings))
for (i in 1:nrow(jsondata$results$bindings)) {
for (j in 1:colnum) {
df[i,j] <- jsondata$results$bindings[i,j]$value
}
}
return(df)
}
#| label: Read-Query-Results
rootdir <- sub("oml-car-variants/.*", "oml-car-variants", getwd())
path <- paste0(rootdir, "/build/results/template/")
objective <- readQueryResultsFromJson(paste0(path, "objective.json"))
View(objective)
df <- objective %>%
select(id, name, mid, mname)
knitr::kable(df)
